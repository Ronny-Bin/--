(function(e){function t(t){for(var o,r,u=t[0],c=t[1],s=t[2],f=0,l=[];f<u.length;f++)r=u[f],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&l.push(a[r][0]),a[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);m&&m(t);while(l.length)l.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,r=1;r<n.length;r++){var u=n[r];0!==a[u]&&(o=!1)}o&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},r={app:0},a={app:0},i=[];function u(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-108098fe":"02831d97","chunk-66c1b198":"b0492964","chunk-2d213e22":"0260bdb1","chunk-35206ae2":"b43e0cfa"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-108098fe":1,"chunk-66c1b198":1,"chunk-35206ae2":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var o="css/"+({}[e]||e)+"."+{"chunk-108098fe":"02386493","chunk-66c1b198":"45531c25","chunk-2d213e22":"31d6cfe0","chunk-35206ae2":"54875d1d"}[e]+".css",a=c.p+o,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var s=i[u],f=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(f===o||f===a))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){s=l[u],f=s.getAttribute("data-href");if(f===o||f===a)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var o=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete r[e],m.parentNode.removeChild(m),n(i)},m.href=a;var g=document.getElementsByTagName("head")[0];g.appendChild(m)})).then((function(){r[e]=0})));var o=a[e];if(0!==o)if(o)t.push(o[2]);else{var i=new Promise((function(t,n){o=a[e]=[t,n]}));t.push(o[2]=i);var s,f=document.createElement("script");f.charset="utf-8",f.timeout=120,c.nc&&f.setAttribute("nonce",c.nc),f.src=u(e);var l=new Error;s=function(t){f.onerror=f.onload=null,clearTimeout(m);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",l.name="ChunkLoadError",l.type=o,l.request=r,n[1](l)}a[e]=void 0}};var m=setTimeout((function(){s({type:"timeout",target:f})}),12e4);f.onerror=f.onload=s,document.head.appendChild(f)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],f=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var m=f;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},2395:function(e,t,n){},"3db4":function(e,t,n){},4360:function(e,t,n){"use strict";var o=n("2b0e"),r=n("2f62"),a={fileName:null,navVisible:!1,isLoading:!0,boxShadow:!1,defaultFontSize:16,defaultFontFamily:"Default",defaultTheme:"Default",currentBook:null,bookAvailable:!1,offsetY:0,progress:0,sectionValue:0,pagelist:null,navigation:null,cover:null,metadata:null,paginate:"",isBookmark:!1},i=a,u={SET_FILENAME:function(e,t){e.fileName=t},SET_NAVVISIBLE:function(e,t){e.navVisible=t},SET_FONTSIZE:function(e,t){e.defaultFontSize=t},SET_FONTFAMILY:function(e,t){e.defaultFontFamily=t},SET_CURRENTBOOK:function(e,t){e.currentBook=t},SET_THEME:function(e,t){e.defaultTheme=t},SET_BOOKAVILABLE:function(e,t){e.bookAvailable=t},SET_OFFSETY:function(e,t){e.offsetY=t},SET_PROGRESS:function(e,t){e.progress=t},SET_SECTION:function(e,t){e.sectionValue=t},SET_PAGELIST:function(e,t){e.pagelist=t},SET_NAVIGATION:function(e,t){e.navigation=t},SET_COVER:function(e,t){e.cover=t},SET_METADATA:function(e,t){e.metadata=t},SET_PAGINATE:function(e,t){e.paginate=t},SET_BOXSHADOW:function(e,t){e.boxShadow=t},SET_IS_BOOKMARK:function(e,t){e.isBookmark=t},SET_IS_LOADING:function(e,t){e.isLoading=t}},c=u,s={setFileName:function(e,t){e.state;var n=e.commit;n("SET_FILENAME",t)},setNavVisible:function(e,t){e.state;var n=e.commit;n("SET_NAVVISIBLE",t)},setDefaultFontSize:function(e,t){e.state;var n=e.commit;n("SET_FONTSIZE",t)},setDefaultFontFamily:function(e,t){e.state;var n=e.commit;n("SET_FONTFAMILY",t)},setCurrentBook:function(e,t){e.state;var n=e.commit;n("SET_CURRENTBOOK",t)},setTheme:function(e,t){e.state;var n=e.commit;n("SET_THEME",t)},setBookAvailable:function(e,t){e.state;var n=e.commit;n("SET_BOOKAVILABLE",t)},setOffset:function(e,t){e.state;var n=e.commit;n("SET_OFFSETY",t)},setProgress:function(e,t){e.state;var n=e.commit;n("SET_PROGRESS",t)},setSection:function(e,t){e.state;var n=e.commit;n("SET_SECTION",t)},setPagelist:function(e,t){var n=e.commit;return n("SET_PAGELIST",t)},setNavigation:function(e,t){var n=e.commit;return n("SET_NAVIGATION",t)},setCover:function(e,t){var n=e.commit;return n("SET_COVER",t)},setMetadata:function(e,t){var n=e.commit;return n("SET_METADATA",t)},setPaginate:function(e,t){var n=e.commit;return n("SET_PAGINATE",t)},setBoxShadow:function(e,t){var n=e.commit;return n("SET_BOXSHADOW",t)},setIsBookmark:function(e,t){var n=e.commit;return n("SET_IS_BOOKMARK",t)},setIsLoading:function(e,t){var n=e.commit;return n("SET_IS_LOADING",t)}},f=s,l={getFileName:function(e){return e.fileName},getNavVisible:function(e){return e.navVisible},getDefaultFontSize:function(e){return e.defaultFontSize},getDefaultFontFamily:function(e){return e.defaultFontFamily},getCurrentBook:function(e){return e.currentBook},getTheme:function(e){return e.defaultTheme},getBookAvailable:function(e){return e.bookAvailable},getOffset:function(e){return e.offsetY},getProgress:function(e){return e.progress},getSection:function(e){return e.sectionValue},getPagelist:function(e){return e.pagelist},getNavigation:function(e){return e.navigation},getCover:function(e){return e.cover},getMetadata:function(e){return e.metadata},getPaginate:function(e){return e.paginate},getBoxShadow:function(e){return e.boxShadow},getIsBookmark:function(e){return e.isBookmark},isLoading:function(e){return e.isLoading}},m=l;o["default"].use(r["a"]);t["a"]=new r["a"].Store({state:i,mutations:c,actions:f,getters:m})},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],i=n("ac0d"),u=n("e8ec"),c={mixins:[i["a"]],name:"App",created:function(){u["a"].getFontFamily()&&this.setDefaultFontFamily(u["a"].getFontFamily()),u["a"].getFontSize()&&this.setDefaultFontSize(u["a"].getFontSize()),u["a"].getTheme()&&this.setTheme(u["a"].getTheme())}},s=c,f=(n("7c55"),n("2877")),l=Object(f["a"])(s,r,a,!1,null,null,null),m=l.exports,g=(n("d3b7"),n("8c4f"));o["default"].use(g["a"]);var d=[{path:"/",redirect:"/ebook"},{path:"/ebook",name:"Ebook",component:function(){return Promise.all([n.e("chunk-108098fe"),n.e("chunk-66c1b198")]).then(n.bind(null,"d7f7"))},children:[{path:":fileName",component:function(){return n.e("chunk-108098fe").then(n.bind(null,"5158"))}}]},{path:"/store",name:"Store",component:function(){return n.e("chunk-2d213e22").then(n.bind(null,"af29"))},redirect:"/store/home",children:[{path:"home",component:function(){return n.e("chunk-35206ae2").then(n.bind(null,"b8f9"))}}]}],h=new g["a"]({base:"",routes:d}),S=h,v=n("4360"),p=n("ca95"),b=n.n(p),T=n("b970");n("157a"),n("3db4");o["default"].use(b.a,{name:"v-touch"}),o["default"].use(T["a"]),o["default"].prototype.bus=new o["default"],o["default"].config.productionTip=!1,new o["default"]({router:S,store:v["a"],render:function(e){return e(m)}}).$mount("#app")},"7c55":function(e,t,n){"use strict";var o=n("2395"),r=n.n(o);r.a},ac0d:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("4de4"),n("4160"),n("b0c0"),n("d3b7"),n("159b");var o=n("5530"),r=n("2f62"),a=n("e8ec"),i=n("ff42"),u={computed:Object(o["a"])({},Object(r["c"])(["getFileName","getNavVisible","getDefaultFontSize","getDefaultFontFamily","getCurrentBook","getPagelist","getNavigation","getTheme","getBookAvailable","getOffset","getProgress","getSection","getCover","getMetadata","getPaginate","getBoxShadow","getIsBookmark","isLoading"]),{getSectionName:function(){var e=this.book.section(this.getSection);if(e)return this.getNavigation[this.getSection].label}}),methods:Object(o["a"])({},Object(r["b"])(["setFileName","setNavVisible","setDefaultFontSize","setDefaultFontFamily","setCurrentBook","setTheme","setPagelist","setNavigation","setBookAvailable","setOffset","setProgress","setSection","setCover","setMetadata","setPaginate","setBoxShadow","setIsBookmark","setIsLoading"]),{refreshLocation:function(){var e=this;return new Promise((function(){var t=e.getCurrentBook.rendition.currentLocation();if(t.start&&t.start.index){var n=t.start.cfi,o=t.start.index,r=e.getCurrentBook.locations.percentageFromCfi(t.start.cfi);e.setSection(o),e.setProgress(Math.floor(100*r)),a["a"].setBook(e.getFileName,"location",n)}var i=t.start.cfi;if(e.bookmark=a["a"].getBook(e.getFileName,"bookmark"),e.bookmark){var u=e.bookmark.filter((function(e){return e["cfi"]===i}));u.length>0?e.setIsBookmark(!0):e.setIsBookmark(!1)}}))},display:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t?this.getCurrentBook.rendition.display(t).then((function(){e.refreshLocation(),n&&n()})):this.getCurrentBook.rendition.display().then((function(){e.refreshLocation(),n&&n()}))},changeCss:function(){var e,t,n=this;i["c"].forEach((function(o){if(n.getCurrentBook.rendition.themes.register(o.name,o.style),o.name===n.getTheme){var r=o.style.body;e=r.color,t=r.background}})),document.body.style.backgroundColor=t;var o=document.createElement("style"),r=":root {--color-tint: "+e+";--color-background: "+t+";}";o.type="text/css",o.styleSheet?o.styleSheet.cssText=r:o.innerHTML=r,document.getElementsByTagName("head")[0].appendChild(o)},transTime:function(e){var t=new Date,n=t.getTime()-e;if(""===n)return"";var o="";if(n>=1e3){var r=parseInt(n/864e5),a=parseInt(n%864e5/36e5),i=parseInt(n%864e5%36e5/6e4),u=parseInt(n%864e5%36e5%6e4/1e3);0!=r&&(o+=r+"天"),0!=a&&(o+=a+"时"),0!=i&&(o+=i+"分"),0!=u&&(o+=u+"秒")}return""==o&&(o="0秒"),o}})}},e8ec:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o={getFontFamily:function(){return localStorage.getItem("fontFamily")},setFontFamily:function(e){localStorage.setItem("fontFamily",e)},getFontSize:function(){return localStorage.getItem("fontSize")},saveFontSize:function(e){localStorage.setItem("fontSize",e)},getTheme:function(){return localStorage.getItem("theme")},setTheme:function(e){localStorage.setItem("theme",e)},setBook:function(e,t,n){var o=localStorage.getItem("".concat(e,"-info"));o=o?JSON.parse(o):{},o[t]=n,localStorage.setItem("".concat(e,"-info"),JSON.stringify(o))},getBook:function(e,t){var n=localStorage.getItem("".concat(e,"-info"));return n?(n=JSON.parse(n),n[t]):null}}},ff42:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var o=[{alias:"默认",name:"Default",style:{body:{color:"#4c5059",background:"#cecece"}}},{alias:"雅志",name:"Gold",style:{body:{color:"#5c5b56",background:"#c6c2b6"}}},{alias:"护眼",name:"Eye",style:{body:{color:"#404c42",background:"#a9c1a9"}}},{alias:"夜间",name:"Night",style:{body:{color:"#cecece",background:"#000000"}}}],r=[{fontSize:12},{fontSize:14},{fontSize:16},{fontSize:18},{fontSize:20},{fontSize:22},{fontSize:24}],a=[{font:"Default"},{font:"Cabin"},{font:"Days One"},{font:"Montserrat"},{font:"Tangerine"}]}});
//# sourceMappingURL=app.14bb00ba.js.map